{"info":{"author":"Your Name","author_email":"you@example.com","bugtrack_url":null,"classifiers":["License :: OSI Approved :: MIT License","Programming Language :: Python :: 3","Programming Language :: Python :: 3.10","Programming Language :: Python :: 3.11","Programming Language :: Python :: 3.12","Programming Language :: Python :: 3.9"],"description":"# LlamaIndex VectorStore Integration for Oracle\n\nThis is a very basic example on how to use Oracle as a vector store with llamaindex. For a detailed guide look at https://github.com/run-llama/llama_index/blob/main/docs/docs/examples/vector_stores/orallamavs.ipynb\n\n`pip install llama-index-vector-stores-oracledb`\n\n# A sample example\n\n```python\nfrom typing import TYPE_CHECKING\nimport sys\nfrom llama_index.core.schema import Document, TextNode\nfrom llama_index.readers.oracleai import OracleReader, OracleTextSplitter\nfrom llama_index.embeddings.oracleai import OracleEmbeddings\nfrom llama_index.utils.oracleai import OracleSummary\nfrom llama_index.vector_stores.oracledb import OraLlamaVS, DistanceStrategy\nfrom llama_index.vector_stores.oracledb import base as orallamavs\n\nif TYPE_CHECKING:\n    import oracledb\n\n\"\"\"\nIn this sample example, we will use 'database' provider for both summary and embeddings.\nSo, we don't need to do the following:\n    - set proxy for 3rd party providers\n    - create credential for 3rd party providers\n\nIf you choose to use 3rd party provider,\nplease follow the necessary steps for proxy and credential.\n\"\"\"\n\n# oracle connection\n# please update with your username, password, hostname, and service_name\nusername = \"testuser\"\npassword = \"testuser\"\ndsn = \"<hostname/service_name>\"\n\ntry:\n    conn = oracledb.connect(user=username, password=password, dsn=dsn)\n    print(\"Connection successful!\")\nexcept Exception as e:\n    print(\"Connection failed!\")\n    sys.exit(1)\n\n\n# load onnx model\n# please update with your related information\nonnx_dir = \"DEMO_PY_DIR\"\nonnx_file = \"tinybert.onnx\"\nmodel_name = \"demo_model\"\ntry:\n    OracleEmbeddings.load_onnx_model(conn, onnx_dir, onnx_file, model_name)\n    print(\"ONNX model loaded.\")\nexcept Exception as e:\n    print(\"ONNX model loading failed!\")\n    sys.exit(1)\n\n\n# params\n# please update necessary fields with related information\nloader_params = {\n    \"owner\": \"testuser\",\n    \"tablename\": \"demo_tab\",\n    \"colname\": \"data\",\n}\nsummary_params = {\n    \"provider\": \"database\",\n    \"glevel\": \"S\",\n    \"numParagraphs\": 1,\n    \"language\": \"english\",\n}\nsplitter_params = {\"normalize\": \"all\"}\nembedder_params = {\"provider\": \"database\", \"model\": \"demo_model\"}\n\n# instantiate loader, summary, splitter, and embedder\nloader = OracleReader(conn=conn, params=loader_params)\nsummary = OracleSummary(conn=conn, params=summary_params)\nsplitter = OracleTextSplitter(conn=conn, params=splitter_params)\nembedder = OracleEmbeddings(conn=conn, params=embedder_params)\n\n# process the documents\nloader = OracleReader(conn=conn, params=loader_params)\ndocs = loader.load()\n\nchunks_with_mdata = []\nfor id, doc in enumerate(docs, start=1):\n    summ = summary.get_summary(doc.text)\n    chunks = splitter.split_text(doc.text)\n    for ic, chunk in enumerate(chunks, start=1):\n        chunk_metadata = doc.metadata.copy()\n        chunk_metadata[\"id\"] = (\n            chunk_metadata[\"_oid\"] + \"$\" + str(id) + \"$\" + str(ic)\n        )\n        chunk_metadata[\"document_id\"] = str(id)\n        chunk_metadata[\"document_summary\"] = str(summ[0])\n        textnode = TextNode(\n            text=chunk,\n            id_=chunk_metadata[\"id\"],\n            embedding=embedder._get_text_embedding(chunk),\n            metadata=chunk_metadata,\n        )\n        chunks_with_mdata.append(textnode)\n\n\"\"\" verify \"\"\"\nprint(f\"Number of total chunks with metadata: {len(chunks_with_mdata)}\")\n\n\n# create Oracle AI Vector Store\nvectorstore = OraLlamaVS.from_documents(\n    client=conn,\n    docs=chunks_with_mdata,\n    table_name=\"oravs\",\n    distance_strategy=DistanceStrategy.DOT_PRODUCT,\n)\n\n\"\"\" verify \"\"\"\nprint(f\"Vector Store Table: {vectorstore.table_name}\")\n\n# Create Index\norallamavs.create_index(\n    conn, vectorstore, params={\"idx_name\": \"hnsw_oravs\", \"idx_type\": \"HNSW\"}\n)\n\nprint(\"Index created.\")\n\n\n# Perform Semantic Search\nquery = \"What is Oracle AI Vector Store?\"\nfilter = {\"document_id\": [\"1\"]}\n\n# Similarity search without a filter\nprint(vectorstore.similarity_search(query, 1))\n\n# Similarity search with a filter\nprint(vectorstore.similarity_search(query, 1, filter=filter))\n\n# Similarity search with relevance score\nprint(vectorstore.similarity_search_with_score(query, 1))\n\n# Similarity search with relevance score with filter\nprint(vectorstore.similarity_search_with_score(query, 1, filter=filter))\n\n# Max marginal relevance search\nprint(\n    vectorstore.max_marginal_relevance_search(\n        query, 1, fetch_k=20, lambda_mult=0.5\n    )\n)\n\n# Max marginal relevance search with filter\nprint(\n    vectorstore.max_marginal_relevance_search(\n        query, 1, fetch_k=20, lambda_mult=0.5, filter=filter\n    )\n)\n```\n","description_content_type":"text/markdown","docs_url":null,"download_url":null,"downloads":{"last_day":-1,"last_month":-1,"last_week":-1},"dynamic":null,"home_page":null,"keywords":null,"license":"MIT","license_expression":null,"license_files":null,"maintainer":null,"maintainer_email":null,"name":"llama-index-vector-stores-oracledb","package_url":"https://pypi.org/project/llama-index-vector-stores-oracledb/","platform":null,"project_url":"https://pypi.org/project/llama-index-vector-stores-oracledb/","project_urls":null,"provides_extra":null,"release_url":"https://pypi.org/project/llama-index-vector-stores-oracledb/0.2.0/","requires_dist":["llama-index-core<0.13.0,>=0.12.0","oracledb>=2.2"],"requires_python":"<3.13,>=3.9","summary":"llama-index vector_stores oracle database integration","version":"0.2.0","yanked":false,"yanked_reason":null},"last_serial":26036790,"releases":{"0.1.1":[{"comment_text":"","digests":{"blake2b_256":"41df93ff780f066b668bea5ee73b11a0e84075f931302322d57bfa707fa6d821","md5":"98cd19ea60a7ea7ff4940a4250359409","sha256":"c0f027dc6dd1ed29df41c1428596d1f6e611afc74b20a9fd56d1e32fd1cd8176"},"downloads":-1,"filename":"llama_index_vector_stores_oracledb-0.1.1-py3-none-any.whl","has_sig":false,"md5_digest":"98cd19ea60a7ea7ff4940a4250359409","packagetype":"bdist_wheel","python_version":"py3","requires_python":"<3.13,>=3.8.1","size":7719,"upload_time":"2024-10-03T15:11:23","upload_time_iso_8601":"2024-10-03T15:11:23.184836Z","url":"https://files.pythonhosted.org/packages/41/df/93ff780f066b668bea5ee73b11a0e84075f931302322d57bfa707fa6d821/llama_index_vector_stores_oracledb-0.1.1-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"05e5d7054ab71c345da6f70ffb13f4fcf440550708abdc0e37bc5464ebc6a85a","md5":"d9ed02279c5691763c42f74884fc4b6e","sha256":"ab6ff278262c2fafcd1b42aab9ff209d3ff9a8955d45a3e4b35d7dfa273ec136"},"downloads":-1,"filename":"llama_index_vector_stores_oracledb-0.1.1.tar.gz","has_sig":false,"md5_digest":"d9ed02279c5691763c42f74884fc4b6e","packagetype":"sdist","python_version":"source","requires_python":"<3.13,>=3.8.1","size":7349,"upload_time":"2024-10-03T15:11:24","upload_time_iso_8601":"2024-10-03T15:11:24.451461Z","url":"https://files.pythonhosted.org/packages/05/e5/d7054ab71c345da6f70ffb13f4fcf440550708abdc0e37bc5464ebc6a85a/llama_index_vector_stores_oracledb-0.1.1.tar.gz","yanked":false,"yanked_reason":null}],"0.1.2":[{"comment_text":"","digests":{"blake2b_256":"443b4ca557ad48730c55364415825a4d2904482f20ef1bdf257b09677fe07dc2","md5":"ed9efd49644c2181df8d72b3c31f4d33","sha256":"e289253a3c679a30399d8cd100180e387d7a8b877a6cea3fcad9ff36e78cf362"},"downloads":-1,"filename":"llama_index_vector_stores_oracledb-0.1.2-py3-none-any.whl","has_sig":false,"md5_digest":"ed9efd49644c2181df8d72b3c31f4d33","packagetype":"bdist_wheel","python_version":"py3","requires_python":"<3.13,>=3.8.1","size":7725,"upload_time":"2024-10-15T01:48:03","upload_time_iso_8601":"2024-10-15T01:48:03.295979Z","url":"https://files.pythonhosted.org/packages/44/3b/4ca557ad48730c55364415825a4d2904482f20ef1bdf257b09677fe07dc2/llama_index_vector_stores_oracledb-0.1.2-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"ac2dfa2cd2d913de15a83dfb2418ad4ea71f4836895f075c6d185ee6688c2ad3","md5":"17281433b9efe388415c9349f315c55e","sha256":"86327ba356495c10bce7a4212970017d3ab3ecc14910ae45dd38c50e7f7443f0"},"downloads":-1,"filename":"llama_index_vector_stores_oracledb-0.1.2.tar.gz","has_sig":false,"md5_digest":"17281433b9efe388415c9349f315c55e","packagetype":"sdist","python_version":"source","requires_python":"<3.13,>=3.8.1","size":7358,"upload_time":"2024-10-15T01:48:04","upload_time_iso_8601":"2024-10-15T01:48:04.261073Z","url":"https://files.pythonhosted.org/packages/ac/2d/fa2cd2d913de15a83dfb2418ad4ea71f4836895f075c6d185ee6688c2ad3/llama_index_vector_stores_oracledb-0.1.2.tar.gz","yanked":false,"yanked_reason":null}],"0.1.4":[{"comment_text":"","digests":{"blake2b_256":"86746c0b96b8a2f6306e6abc419118d4bf8308aae931d846db017785061b3c5d","md5":"a3356477a5db7f3923c1ac746ecee804","sha256":"acc2678f9d8f4aa01f9e966349044d67d0c1ca1d226f4adbe21fddf771e038b6"},"downloads":-1,"filename":"llama_index_vector_stores_oracledb-0.1.4-py3-none-any.whl","has_sig":false,"md5_digest":"a3356477a5db7f3923c1ac746ecee804","packagetype":"bdist_wheel","python_version":"py3","requires_python":"<3.13,>=3.8.1","size":9205,"upload_time":"2024-10-15T01:55:48","upload_time_iso_8601":"2024-10-15T01:55:48.886549Z","url":"https://files.pythonhosted.org/packages/86/74/6c0b96b8a2f6306e6abc419118d4bf8308aae931d846db017785061b3c5d/llama_index_vector_stores_oracledb-0.1.4-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"6f3b70e4ed6d0f9a78d5439ad9cb8395d82bc7790bfc9d128abdfba4381402d3","md5":"0b3e2cba2dc089c173c4199f0aeff2c1","sha256":"5aef9d5c6a5778d9f47386070b50abe17a0fcc9c0f2db017055ce4589eaa463e"},"downloads":-1,"filename":"llama_index_vector_stores_oracledb-0.1.4.tar.gz","has_sig":false,"md5_digest":"0b3e2cba2dc089c173c4199f0aeff2c1","packagetype":"sdist","python_version":"source","requires_python":"<3.13,>=3.8.1","size":10078,"upload_time":"2024-10-15T01:55:49","upload_time_iso_8601":"2024-10-15T01:55:49.994380Z","url":"https://files.pythonhosted.org/packages/6f/3b/70e4ed6d0f9a78d5439ad9cb8395d82bc7790bfc9d128abdfba4381402d3/llama_index_vector_stores_oracledb-0.1.4.tar.gz","yanked":false,"yanked_reason":null}],"0.2.0":[{"comment_text":"","digests":{"blake2b_256":"f88c8b333b8f4681309cbdb3ced4c7527da6130f3f0ab13e4e30ecf6dcfe7954","md5":"ceb22f5d08962666ae619c205f998973","sha256":"044dc28b6a1028fa34390ca06f7a2c4b6917152936be4a8683fe28982c374c23"},"downloads":-1,"filename":"llama_index_vector_stores_oracledb-0.2.0-py3-none-any.whl","has_sig":false,"md5_digest":"ceb22f5d08962666ae619c205f998973","packagetype":"bdist_wheel","python_version":"py3","requires_python":"<3.13,>=3.9","size":9204,"upload_time":"2024-11-17T22:52:54","upload_time_iso_8601":"2024-11-17T22:52:54.178960Z","url":"https://files.pythonhosted.org/packages/f8/8c/8b333b8f4681309cbdb3ced4c7527da6130f3f0ab13e4e30ecf6dcfe7954/llama_index_vector_stores_oracledb-0.2.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"4a509659e3a1ec90db90d0e83a241d801ff30a2225a28f2ac296e79b5ac45cf2","md5":"70c382af824986ba4b53cd125ec64f1f","sha256":"f3ef32788047ee39c9288fd20b419b3079c4561d3b1213b2f0bd3bf1e98db582"},"downloads":-1,"filename":"llama_index_vector_stores_oracledb-0.2.0.tar.gz","has_sig":false,"md5_digest":"70c382af824986ba4b53cd125ec64f1f","packagetype":"sdist","python_version":"source","requires_python":"<3.13,>=3.9","size":10112,"upload_time":"2024-11-17T22:52:54","upload_time_iso_8601":"2024-11-17T22:52:54.982678Z","url":"https://files.pythonhosted.org/packages/4a/50/9659e3a1ec90db90d0e83a241d801ff30a2225a28f2ac296e79b5ac45cf2/llama_index_vector_stores_oracledb-0.2.0.tar.gz","yanked":false,"yanked_reason":null}]},"urls":[{"comment_text":"","digests":{"blake2b_256":"f88c8b333b8f4681309cbdb3ced4c7527da6130f3f0ab13e4e30ecf6dcfe7954","md5":"ceb22f5d08962666ae619c205f998973","sha256":"044dc28b6a1028fa34390ca06f7a2c4b6917152936be4a8683fe28982c374c23"},"downloads":-1,"filename":"llama_index_vector_stores_oracledb-0.2.0-py3-none-any.whl","has_sig":false,"md5_digest":"ceb22f5d08962666ae619c205f998973","packagetype":"bdist_wheel","python_version":"py3","requires_python":"<3.13,>=3.9","size":9204,"upload_time":"2024-11-17T22:52:54","upload_time_iso_8601":"2024-11-17T22:52:54.178960Z","url":"https://files.pythonhosted.org/packages/f8/8c/8b333b8f4681309cbdb3ced4c7527da6130f3f0ab13e4e30ecf6dcfe7954/llama_index_vector_stores_oracledb-0.2.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"4a509659e3a1ec90db90d0e83a241d801ff30a2225a28f2ac296e79b5ac45cf2","md5":"70c382af824986ba4b53cd125ec64f1f","sha256":"f3ef32788047ee39c9288fd20b419b3079c4561d3b1213b2f0bd3bf1e98db582"},"downloads":-1,"filename":"llama_index_vector_stores_oracledb-0.2.0.tar.gz","has_sig":false,"md5_digest":"70c382af824986ba4b53cd125ec64f1f","packagetype":"sdist","python_version":"source","requires_python":"<3.13,>=3.9","size":10112,"upload_time":"2024-11-17T22:52:54","upload_time_iso_8601":"2024-11-17T22:52:54.982678Z","url":"https://files.pythonhosted.org/packages/4a/50/9659e3a1ec90db90d0e83a241d801ff30a2225a28f2ac296e79b5ac45cf2/llama_index_vector_stores_oracledb-0.2.0.tar.gz","yanked":false,"yanked_reason":null}],"vulnerabilities":[]}
