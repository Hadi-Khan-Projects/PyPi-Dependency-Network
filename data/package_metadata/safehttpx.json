{"info":{"author":null,"author_email":"Abubakar Abid <abubakar@hf.co>","bugtrack_url":null,"classifiers":["License :: OSI Approved :: MIT License","Operating System :: OS Independent","Programming Language :: Python :: 3"],"description":"# safehttpx\n\nA small Python library created to help developers protect their applications from Server Side Request Forgery (SSRF) attacks. It implements an **asynchronous GET method** called `safehttpx.get()`, which is a wrapper around `httpx.AsyncClient.get()` while performing DNS validation on the supplied URL using [Google DNS](https://developers.google.com/speed/public-dns). \n\nIt also implements mitigation for [DNS rebinding](https://en.wikipedia.org/wiki/DNS_rebinding) attacks.\n\n## Why?\n\nServer Side Request Forgery (SSRF) attacks can be particularly dangerous as they allow attackers to make arbitrary HTTP requests from your server, potentially accessing sensitive internal services that are normally unreachable from the internet. This could enable attackers to scan internal networks, access metadata services in cloud environments (like \"AWS Instance Metadata Service\"), or hit internal APIs - all while appearing to come from your trusted server. By validating URLs against public DNS servers and implementing protections against DNS rebinding, `safehttpx` helps prevent attackers from coercing your application into making requests to internal or otherwise restricted network resources.\n\n## Usage\n\n### Installation\n\n```bash\n$ pip install safehttpx\n```\nAlso avalaible through Conda\n```bash\n$ conda install safehttpx -c conda-forge\n```\nor\n```bash\n$ mamba install safehttpx -c conda-forge\n```\n### Basic Usage\n\n```py\nimport safehttpx as sh\n\nawait sh.get(\"https://huggingface.co\")\n>>> <Response [200 OK]>\n\nawait sh.get(\"http://127.0.0.1\")\n>>> ValueError: Hostname 127.0.0.1 failed validation\n```\n\n**Note on Async Usage:**\n\nThe example snippets above will work in environments like IPython or Jupyter notebooks where an asyncio event loop is already running. For regular Python scripts, you'll need to explicitly create and run an asyncio event loop. Here's how you can structure your code to use `safehttpx` in a standard Python script:\n\n```python\nimport asyncio\nimport safehttpx as sh\n\nasyncio.run(sh.get(\"https://huggingface.co\"))\n>>> <Response [200 OK]>\n```\n\n### Whitelisted Domains\n\nYou may want to whitelist certain domains from being validated. For example, if you are running code on a server that implements DNS splitting, then even public URLs may appear as internal URLs. You can whitelist domains like this:\n\n\n```py\nimport safehttpx as sh\n\nPUBLIC_HOSTNAME_WHITELIST = [\"hf.co\", \"huggingface.co\"]\n\nawait sh.get(\"https://huggingface.co\", domain_whitelist=PUBLIC_HOSTNAME_WHITELIST)\n>>> <Response [200 OK]>\n```\n\n### Custom Transports (Advanced)\n\nIf you know what you are doing, and what to pass in a custom instance of\n`httpx.AsyncBaseTransport`, you can use the `_transport` parameter in `sh.get()`. Setting\nthis to `False` explicitly will use no secure transport (effectively \nmaking `sh.get` equivalent to `httpx.AsyncClient.get()`).\n\n## More Information\n\nThis library was created as a result of Trail of Bits' security audit of Gradio 5 (Hugging Face), and is used [in the Gradio library](https://github.com/gradio-app/gradio/) to make secure requests to arbitrary user-specified URLs. We are releasing this as a standalone library so that other developers can benefit from our learnings. In the interest of transparency and the spirit of open-source, we are making the [full security audit public](https://github.com/trailofbits/publications/blob/master/reviews/2024-10-huggingface-gradio-securityreview.pdf).\n\nIf you find a security issue in this library, please email the Gradio team at `gradio-team@huggingface.co`. Thanks!\n","description_content_type":"text/markdown","docs_url":null,"download_url":null,"downloads":{"last_day":-1,"last_month":-1,"last_week":-1},"dynamic":null,"home_page":null,"keywords":null,"license":null,"license_expression":null,"license_files":null,"maintainer":null,"maintainer_email":null,"name":"safehttpx","package_url":"https://pypi.org/project/safehttpx/","platform":null,"project_url":"https://pypi.org/project/safehttpx/","project_urls":{"homepage":"https://github.com/gradio-app/safehttpx","repository":"https://github.com/gradio-app/safehttpx"},"provides_extra":["dev"],"release_url":"https://pypi.org/project/safehttpx/0.1.6/","requires_dist":["httpx","pytest; extra == \"dev\""],"requires_python":">3.9","summary":"A small Python library created to help developers protect their applications from Server Side Request Forgery (SSRF) attacks.","version":"0.1.6","yanked":false,"yanked_reason":null},"last_serial":26322926,"releases":{"0.1.0":[{"comment_text":"","digests":{"blake2b_256":"55c7f0cfa621d5a736c7a2b410d3819a260d8d8ac334dcbe3714db3d37155b4e","md5":"6460b8e804a59019264ee0a2a2c3ece5","sha256":"eeceb62a05999e00bb5f2043c8ba6f7ec96abb0673f4573ce115a30e12f726fc"},"downloads":-1,"filename":"safehttpx-0.1.0-py3-none-any.whl","has_sig":false,"md5_digest":"6460b8e804a59019264ee0a2a2c3ece5","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.8","size":8381,"upload_time":"2024-10-21T18:51:59","upload_time_iso_8601":"2024-10-21T18:51:59.719251Z","url":"https://files.pythonhosted.org/packages/55/c7/f0cfa621d5a736c7a2b410d3819a260d8d8ac334dcbe3714db3d37155b4e/safehttpx-0.1.0-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"66b2ba8a1e4de6639d1d0aa359fc95840aaf861756a1e09d9687518e4f9f4dbb","md5":"c282e1adb4cf51869e71707432afdfa0","sha256":"488f47c41d3c100c15573afc9555bb5ae3e40eadd927e073952fb3b294fdade3"},"downloads":-1,"filename":"safehttpx-0.1.0.tar.gz","has_sig":false,"md5_digest":"c282e1adb4cf51869e71707432afdfa0","packagetype":"sdist","python_version":"source","requires_python":">=3.8","size":9069,"upload_time":"2024-10-21T18:52:01","upload_time_iso_8601":"2024-10-21T18:52:01.603346Z","url":"https://files.pythonhosted.org/packages/66/b2/ba8a1e4de6639d1d0aa359fc95840aaf861756a1e09d9687518e4f9f4dbb/safehttpx-0.1.0.tar.gz","yanked":false,"yanked_reason":null}],"0.1.1":[{"comment_text":"","digests":{"blake2b_256":"dff755cdeed5889f2076fdb125bc87bb7ab0f1715c84b0a4619c44833d890f60","md5":"1b87eb39bb04cdf52cea5879368b64ce","sha256":"1d93b64023c00d5c53ea70ea36e773b8a0dba5eaf1a1eb188856584a0a4cf4d1"},"downloads":-1,"filename":"safehttpx-0.1.1-py3-none-any.whl","has_sig":false,"md5_digest":"1b87eb39bb04cdf52cea5879368b64ce","packagetype":"bdist_wheel","python_version":"py3","requires_python":">=3.9","size":8404,"upload_time":"2024-10-23T19:19:52","upload_time_iso_8601":"2024-10-23T19:19:52.870146Z","url":"https://files.pythonhosted.org/packages/df/f7/55cdeed5889f2076fdb125bc87bb7ab0f1715c84b0a4619c44833d890f60/safehttpx-0.1.1-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"f3449849faa4e7d338e70c0994db7428f568e73cd8720fbf3405e95e66e0778a","md5":"ef11e8ec201f01d2820ef89e4312b6eb","sha256":"6e1bedf7767213300da5e4cb7e823e98edc934f17ca192d2e585111a2b899149"},"downloads":-1,"filename":"safehttpx-0.1.1.tar.gz","has_sig":false,"md5_digest":"ef11e8ec201f01d2820ef89e4312b6eb","packagetype":"sdist","python_version":"source","requires_python":">=3.9","size":9481,"upload_time":"2024-10-23T19:19:54","upload_time_iso_8601":"2024-10-23T19:19:54.822603Z","url":"https://files.pythonhosted.org/packages/f3/44/9849faa4e7d338e70c0994db7428f568e73cd8720fbf3405e95e66e0778a/safehttpx-0.1.1.tar.gz","yanked":false,"yanked_reason":null}],"0.1.5":[{"comment_text":"","digests":{"blake2b_256":"0a9516f1a8264254faf90ada8c1a48023729bb0d91b065265d6bdd8ed5864299","md5":"27711f85ca27769e2e8e85aaefcb1d73","sha256":"eb4970add5bd7841d7f7452e46999b83c40b2591818ec4218f65bfee699cbc31"},"downloads":-1,"filename":"safehttpx-0.1.5-py3-none-any.whl","has_sig":false,"md5_digest":"27711f85ca27769e2e8e85aaefcb1d73","packagetype":"bdist_wheel","python_version":"py3","requires_python":">3.9","size":8522,"upload_time":"2024-12-02T18:23:07","upload_time_iso_8601":"2024-12-02T18:23:07.483268Z","url":"https://files.pythonhosted.org/packages/0a/95/16f1a8264254faf90ada8c1a48023729bb0d91b065265d6bdd8ed5864299/safehttpx-0.1.5-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"5f0308bff18e75801725c5286c3d175a9ec83d2ca05293755134f32446ee9c0c","md5":"845c57431187589b42366583ef822e93","sha256":"85ba61be0430d9e278a9e06857089a22148e3341dd878256ace60dc5c79757a1"},"downloads":-1,"filename":"safehttpx-0.1.5.tar.gz","has_sig":false,"md5_digest":"845c57431187589b42366583ef822e93","packagetype":"sdist","python_version":"source","requires_python":">3.9","size":9977,"upload_time":"2024-12-02T18:23:08","upload_time_iso_8601":"2024-12-02T18:23:08.462942Z","url":"https://files.pythonhosted.org/packages/5f/03/08bff18e75801725c5286c3d175a9ec83d2ca05293755134f32446ee9c0c/safehttpx-0.1.5.tar.gz","yanked":false,"yanked_reason":null}],"0.1.6":[{"comment_text":"","digests":{"blake2b_256":"4dc01108ad9f01567f66b3154063605b350b69c3c9366732e09e45f9fd0d1deb","md5":"6586a72dd275603d865c4cc28791fcb5","sha256":"407cff0b410b071623087c63dd2080c3b44dc076888d8c5823c00d1e58cb381c"},"downloads":-1,"filename":"safehttpx-0.1.6-py3-none-any.whl","has_sig":false,"md5_digest":"6586a72dd275603d865c4cc28791fcb5","packagetype":"bdist_wheel","python_version":"py3","requires_python":">3.9","size":8692,"upload_time":"2024-12-02T18:44:08","upload_time_iso_8601":"2024-12-02T18:44:08.555127Z","url":"https://files.pythonhosted.org/packages/4d/c0/1108ad9f01567f66b3154063605b350b69c3c9366732e09e45f9fd0d1deb/safehttpx-0.1.6-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"674c19db75e6405692b2a96af8f06d1258f8aa7290bdc35ac966f03e207f6d7f","md5":"c9bd00f12c7ef214d8366d1c00bda93d","sha256":"b356bfc82cee3a24c395b94a2dbeabbed60aff1aa5fa3b5fe97c4f2456ebce42"},"downloads":-1,"filename":"safehttpx-0.1.6.tar.gz","has_sig":false,"md5_digest":"c9bd00f12c7ef214d8366d1c00bda93d","packagetype":"sdist","python_version":"source","requires_python":">3.9","size":9987,"upload_time":"2024-12-02T18:44:10","upload_time_iso_8601":"2024-12-02T18:44:10.226506Z","url":"https://files.pythonhosted.org/packages/67/4c/19db75e6405692b2a96af8f06d1258f8aa7290bdc35ac966f03e207f6d7f/safehttpx-0.1.6.tar.gz","yanked":false,"yanked_reason":null}]},"urls":[{"comment_text":"","digests":{"blake2b_256":"4dc01108ad9f01567f66b3154063605b350b69c3c9366732e09e45f9fd0d1deb","md5":"6586a72dd275603d865c4cc28791fcb5","sha256":"407cff0b410b071623087c63dd2080c3b44dc076888d8c5823c00d1e58cb381c"},"downloads":-1,"filename":"safehttpx-0.1.6-py3-none-any.whl","has_sig":false,"md5_digest":"6586a72dd275603d865c4cc28791fcb5","packagetype":"bdist_wheel","python_version":"py3","requires_python":">3.9","size":8692,"upload_time":"2024-12-02T18:44:08","upload_time_iso_8601":"2024-12-02T18:44:08.555127Z","url":"https://files.pythonhosted.org/packages/4d/c0/1108ad9f01567f66b3154063605b350b69c3c9366732e09e45f9fd0d1deb/safehttpx-0.1.6-py3-none-any.whl","yanked":false,"yanked_reason":null},{"comment_text":"","digests":{"blake2b_256":"674c19db75e6405692b2a96af8f06d1258f8aa7290bdc35ac966f03e207f6d7f","md5":"c9bd00f12c7ef214d8366d1c00bda93d","sha256":"b356bfc82cee3a24c395b94a2dbeabbed60aff1aa5fa3b5fe97c4f2456ebce42"},"downloads":-1,"filename":"safehttpx-0.1.6.tar.gz","has_sig":false,"md5_digest":"c9bd00f12c7ef214d8366d1c00bda93d","packagetype":"sdist","python_version":"source","requires_python":">3.9","size":9987,"upload_time":"2024-12-02T18:44:10","upload_time_iso_8601":"2024-12-02T18:44:10.226506Z","url":"https://files.pythonhosted.org/packages/67/4c/19db75e6405692b2a96af8f06d1258f8aa7290bdc35ac966f03e207f6d7f/safehttpx-0.1.6.tar.gz","yanked":false,"yanked_reason":null}],"vulnerabilities":[]}
